define(["core/str"],(function(e){const t=function(e,t){return(t=t||document).querySelector(e)};return{attachCopyDownload:function(){const n=t("#ai4t-copy"),o=t("#ai4t-download"),c=t("#ai4t-sendtochat"),i=t("#ai4t-generated"),r=document.querySelector("form.mform"),a=t("#ai4t-copied");n&&n.addEventListener("click",(function(){if(!i)return;i.select(),i.setSelectionRange(0,i.value.length);(navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(i.value):Promise.resolve(document.execCommand("copy"))).catch((function(){})),a&&e.get_string("form:copied","block_aipromptgen").then((function(e){return a.textContent=e,a.style.display="inline",setTimeout((function(){a.style.display="none"}),1500),!0})).catch((function(){}))})),o&&o.addEventListener("click",(function(){if(!i)return;const e=(document.querySelector("title")&&document.querySelector("title").textContent||"prompt").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),t=new Blob([i.value||""],{type:"text/plain"}),n=document.createElement("a");n.href=URL.createObjectURL(t),n.download=e+"-ai-prompt.txt",document.body.appendChild(n),n.click(),setTimeout((function(){URL.revokeObjectURL(n.href),n.remove()}),0)})),c&&c.addEventListener("click",(function(){if(!r)return;const e=document.createElement("input");e.type="hidden",e.name="sendtochat",e.value="1",r.appendChild(e),r.submit()}))}}}));
//# sourceMappingURL=actions.min.js.map