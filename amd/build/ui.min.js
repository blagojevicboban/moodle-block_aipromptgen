define("block_aipromptgen/ui",["exports","block_aipromptgen/age","block_aipromptgen/pickers","block_aipromptgen/actions"],(function(_exports,_age,_pickers,_actions){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;
/**
   * ES6 orchestrator module: aggregates individual feature modules for the AI Prompt Generator block.
   * Split into smaller modules for clarity, testability, and alignment with Moodle JS module guidelines.
   *
   * @module     block_aipromptgen/ui
   * @copyright  2025 AI4Teachers
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
const initProviderSend=()=>{const sendBtn=document.getElementById("ai4t-sendtoai"),select=document.getElementById("ai4t-provider"),hidden=document.getElementById("ai4t-sendto"),gen=document.getElementById("ai4t-generated"),resp=document.getElementById("ai4t-airesponse");if(!(sendBtn&&select&&hidden&&gen))return;const refreshState=()=>{const opt=select.options[select.selectedIndex],unconfigured=opt&&/âœ•\s*$/.test(opt.textContent||"");!gen.value.trim()||unconfigured?sendBtn.disabled=!0:sendBtn.disabled=!1};select.addEventListener("change",refreshState),gen.addEventListener("input",refreshState),sendBtn.addEventListener("click",(()=>{if(sendBtn.disabled)return;const provider=select.value;hidden.value=provider,resp&&(resp.textContent="...",resp.setAttribute("aria-busy","true"));const form=document.getElementById("promptform")||document.getElementById("mform1")||sendBtn.closest("form");form&&form.submit()})),refreshState()};_exports.init=()=>{(0,_age.initAgeModal)(),(0,_pickers.attachPicker)({openId:"ai4t-lesson-browse",modalId:"ai4t-modal",closeId:"ai4t-modal-close",cancelId:"ai4t-modal-cancel",itemSelector:".ai4t-lesson-item",targetId:"id_lesson"}),(0,_pickers.attachPicker)({openId:"ai4t-topic-browse",modalId:"ai4t-topic-modal",closeId:"ai4t-topic-modal-close",cancelId:"ai4t-topic-modal-cancel",itemSelector:".ai4t-topic-item",targetId:"id_topic"}),(0,_pickers.attachOutcomesModal)(),(0,_pickers.initLanguageModal)(),(0,_pickers.attachPicker)({openId:"ai4t-purpose-browse",modalId:"ai4t-purpose-modal",closeId:"ai4t-purpose-modal-close",cancelId:"ai4t-purpose-modal-cancel",itemSelector:".ai4t-purpose-item",targetId:"id_purpose"}),(0,_pickers.attachPicker)({openId:"ai4t-audience-browse",modalId:"ai4t-audience-modal",closeId:"ai4t-audience-modal-close",cancelId:"ai4t-audience-modal-cancel",itemSelector:".ai4t-audience-item",targetId:"id_audience"}),(0,_pickers.attachPicker)({openId:"ai4t-classtype-browse",modalId:"ai4t-classtype-modal",closeId:"ai4t-classtype-modal-close",cancelId:"ai4t-classtype-modal-cancel",itemSelector:".ai4t-classtype-item",targetId:"id_classtype"}),(0,_actions.attachCopyDownload)(),initProviderSend()}}));

//# sourceMappingURL=ui.min.js.map